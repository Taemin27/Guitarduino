// 'Backing Track', 160x80px
const unsigned char backingTrackHome [] PROGMEM = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xff, 0xff, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0x00, 0x00, 0x03, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 
	0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x38, 0x00, 0x00, 0x0e, 0x40, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x38, 0x00, 0x00, 0x0e, 0x20, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x38, 
	0x01, 0xc0, 0x0e, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x00, 0x0f, 0xf8, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x1e, 0x3c, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x30, 0x06, 0x00, 0x20, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 
	0x60, 0x03, 0x00, 0x20, 0x1f, 0xe0, 0x00, 0x00, 0x01, 0x80, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x00, 0xc0, 0x01, 0x80, 0x20, 0x1f, 0xf0, 0x00, 0x00, 0x01, 0x80, 0x60, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0xc0, 0x01, 0x80, 0x20, 0x18, 0x38, 0x00, 0x00, 
	0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0xc1, 0xc1, 0x80, 0x20, 
	0x18, 0x18, 0x00, 0x00, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x01, 
	0x83, 0xe0, 0xc0, 0x20, 0x18, 0x18, 0x3f, 0x01, 0xe1, 0x87, 0x63, 0x78, 0x1e, 0xc0, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x01, 0x83, 0xe0, 0xc0, 0x20, 0x18, 0x38, 0xff, 0x87, 0xf1, 0x8e, 0x63, 0xfc, 
	0x3f, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x02, 0x01, 0x83, 0xe0, 0xc0, 0x20, 0x1f, 0xf0, 0xc1, 0x86, 
	0x39, 0x9c, 0x63, 0x8e, 0x31, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0xc1, 0xc1, 0x80, 0x20, 
	0x1f, 0xf0, 0x01, 0x8c, 0x19, 0xb8, 0x63, 0x06, 0x60, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 
	0xc0, 0x01, 0x80, 0x20, 0x18, 0x18, 0x0f, 0x8c, 0x01, 0xf0, 0x63, 0x06, 0x60, 0xc0, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x00, 0xc0, 0x01, 0x80, 0x20, 0x18, 0x0c, 0x7f, 0x8c, 0x01, 0xf8, 0x63, 0x06, 
	0x60, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x60, 0x03, 0x00, 0x20, 0x18, 0x0c, 0xf1, 0x8c, 
	0x01, 0x98, 0x63, 0x06, 0x60, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x30, 0x06, 0x00, 0x20, 
	0x18, 0x0c, 0xc1, 0x8c, 0x19, 0x8c, 0x63, 0x06, 0x60, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 
	0x1e, 0x3c, 0x00, 0x20, 0x18, 0x1c, 0xc3, 0x86, 0x39, 0x8e, 0x63, 0x06, 0x31, 0xc0, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x00, 0x0f, 0xf8, 0x00, 0x20, 0x1f, 0xf8, 0xff, 0x87, 0xf1, 0x86, 0x63, 0x06, 
	0x3f, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x01, 0xc0, 0x00, 0x20, 0x1f, 0xf0, 0x7c, 0xc3, 
	0xe1, 0x87, 0x63, 0x06, 0x1e, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x20, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 
	0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x61, 0xc0, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x7f, 0x80, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x20, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 
	0x03, 0xe0, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x00, 0x1f, 0xfc, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x7c, 0x1f, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0xe0, 0x03, 0x80, 0x20, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x01, 
	0x80, 0x00, 0xc0, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x03, 0x00, 0x00, 0x60, 0x20, 0x00, 0x0f, 0xff, 0x00, 0x00, 0x00, 0x01, 0x80, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x03, 0x00, 0x00, 0x60, 0x20, 0x00, 0x0f, 0xff, 0x00, 
	0x00, 0x00, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x06, 0x00, 0x00, 0x30, 0x20, 
	0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x06, 
	0x00, 0x00, 0x30, 0x20, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x01, 0x80, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x06, 0x01, 0xc0, 0x30, 0x20, 0x00, 0x00, 0x60, 0x6e, 0x3f, 0x01, 0xe1, 0x87, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x0c, 0x03, 0xe0, 0x18, 0x20, 0x00, 0x00, 0x60, 0x7e, 
	0xff, 0x87, 0xf1, 0x8e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x0c, 0x07, 0xf0, 0x18, 0x20, 
	0x00, 0x00, 0x60, 0x70, 0xc1, 0x86, 0x39, 0x9c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x0c, 
	0x07, 0xf0, 0x18, 0x20, 0x00, 0x00, 0x60, 0x60, 0x01, 0x8c, 0x19, 0xb8, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x0c, 0x07, 0xf0, 0x18, 0x20, 0x00, 0x00, 0x60, 0x60, 0x0f, 0x8c, 0x01, 0xf0, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x0c, 0x03, 0xe0, 0x18, 0x20, 0x00, 0x00, 0x60, 0x60, 
	0x7f, 0x8c, 0x01, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x06, 0x01, 0xc0, 0x30, 0x20, 
	0x00, 0x00, 0x60, 0x60, 0xf1, 0x8c, 0x01, 0x98, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x06, 
	0x00, 0x00, 0x30, 0x20, 0x00, 0x00, 0x60, 0x60, 0xc1, 0x8c, 0x19, 0x8c, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x06, 0x00, 0x00, 0x30, 0x20, 0x00, 0x00, 0x60, 0x60, 0xc3, 0x86, 0x39, 0x8e, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x03, 0x00, 0x00, 0x60, 0x20, 0x00, 0x00, 0x60, 0x60, 
	0xff, 0x87, 0xf1, 0x86, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x03, 0x00, 0x00, 0x60, 0x20, 
	0x00, 0x00, 0x60, 0x60, 0x7c, 0xc3, 0xe1, 0x87, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x01, 
	0x80, 0x00, 0xc0, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x00, 0xe0, 0x03, 0x80, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x7c, 0x1f, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x1f, 0xfc, 0x00, 0x20, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 
	0x03, 0xe0, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x02, 0x38, 0x00, 0x00, 0x0e, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x38, 0x00, 0x00, 0x0e, 0x20, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x38, 0x00, 0x00, 0x0e, 0x40, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 
	0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x60, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0xff, 0xff, 0xfc, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

int backingTrack_cursorLoc = 0;
bool backingTrack_valueSelected = false;

bool backingTrack_on = false;
bool backingTrack_pause = false;
int backingTrack_fileIndex = 0;
int backingTrack_currentSec = 0;

void backingTrack_setup() {
  display.fillScreen(BLACK);
  display.drawBitmap(0, 0, backingTrackHome, 160, 80, WHITE);
  drawArrows();
  display.display();
}

void backingTrack_loop() {
  bounce.update();
  if(bounce.changed() && bounce.read() == LOW) {
    if(!pageSelected) {
      pageSelected = true;
      playSdWav1.play("ENTER.WAV");
      backingTrack_refresh();
    }
    else if(pageSelected) {
      switch(backingTrack_cursorLoc) {
        case 0:
          pageSelected = false;
          backingTrack_setup();
          break;
        case 1:
          if(backingTrack_pause) {
            
          }
          break;
        default:
          
          break;
      }
    }
  }

  if (pageSelected) {
    // Encoder
    int encoder = readEncoder();
    if(encoder == 0) {
      
    }
    else {
      // Right
      if(encoder == 1) {
        if(backingTrack_valueSelected) {
          switch(backingTrack_cursorLoc) {
            case 1:
              
              break;
          }
        }
        else {
          if(backingTrack_cursorLoc < 3) {
            backingTrack_cursorLoc ++;
          }
        }
      }

      // Left
      else if(encoder == -1) {
        if(backingTrack_valueSelected) {
          switch(backingTrack_cursorLoc) {
            case 1:
              
              break;
          }
        }
        else {
          if(backingTrack_cursorLoc > 0) {
            backingTrack_cursorLoc --;
          }
        }
      }
      backingTrack_refresh();
      display.display();
    }
  }
}


void backingTrack_refresh() {
  display.fillScreen(BLACK);
  display.setTextColor(WHITE, BLACK);
  display.setTextSize(1);

  display.setCursor(0, 0);
  display.print("<<< File: ");
  if (!backingTrack_files.empty()) {
    display.println(backingTrack_files[backingTrack_fileIndex]);
  }

  if (backingTrack_on) {
    display.fillRect(10, 15, 4, 16, WHITE);
    display.fillRect(19, 15, 4, 16, WHITE);
  }
  else {
    display.fillTriangle(9, 15, 9, 31, 24, 23, WHITE);
  }
  
  display.display();
}

void backingTrack_drawProgressBar() {

}
